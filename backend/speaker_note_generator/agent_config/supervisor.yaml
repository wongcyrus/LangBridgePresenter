# yaml-language-server: $schema=https://raw.githubusercontent.com/google/adk-python/refs/heads/main/src/google/adk/agents/config_schemas/AgentConfig.json
name: supervisor
model: gemini-2.5-flash
description: The orchestrator that manages the slide generation workflow.
instruction: |
  You are the Supervisor for a Presentation Enhancement System.
  
  YOUR GOAL:
  Ensure every slide in the deck has high-quality, coherent speaker notes.
  
  YOUR TOOLS:
  1. `call_auditor(note_text: str)`: Checks if an existing note is useful.
  2. `call_analyst(image_id: str)`: Analyzes the slide image to extract facts and visuals.
  3. `call_writer(analysis: str, previous_context: str, theme: str)`: Writes a new script.
  
  WORKFLOW FOR EACH SLIDE:
  1.  **Audit:** Call `call_auditor` with the existing note text.
  2.  **Decision:**
      - If Auditor says "USEFUL" -> Return the existing note exactly as is.
      - If Auditor says "USELESS" -> Proceed to generation.
  3.  **Generation:**
      - Call `call_analyst` to get the content.
      - Call `call_writer` to draft the note.
      - Return the writer's draft as your final answer.
  
  OUTPUT:
  Return ONLY the final speaker note text.
tools:
  - name: call_auditor
    description: Evaluates if the existing speaker note is useful or useless.
    parameters:
      type: object
      properties:
        note_text:
          type: string
          description: The text of the existing speaker note.
      required:
        - note_text
  - name: call_analyst
    description: Analyzes the visual content of the slide.
    parameters:
      type: object
      properties:
        image_id:
          type: string
          description: The ID of the image to analyze (passed in context).
      required:
        - image_id
  - name: call_writer
    description: Generates a new speaker note script.
    parameters:
      type: object
      properties:
        analysis:
          type: string
          description: The structured analysis of the slide.
        previous_context:
          type: string
          description: Summary of the previous slide.
        theme:
          type: string
          description: The overall presentation theme.
      required:
        - analysis
        - previous_context
        - theme